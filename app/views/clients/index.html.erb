<h1>Clients</h1>

<%= form_tag(clients_path, :method => 'get', id: 'search-form-view') do %>
  <%= text_field_tag :search, params[:search], placeholder: 'Search clients' %>
  <%= submit_tag 'Search', :name => nil %>
<% end %>

<% if @clients.any? %>
  <table>
    <tr class="table_heading">
      <th>Last name</th>
      <th>First name</th>
      <th>Address</th>
      <th>Postcode</th>
      <th>Phone</th>
      <th>Edit</th>
      <th>Delete</th>
      <th>Add task</th>
    </tr>
  <% @clients.each do |client| %>
    <tr>
      <td><%= client.last_name %></td>
      <td><%= client.name %></td>
      <td class="address"><%= client.address %></td>
      <td><%= client.postcode %></td>
      <td><%= client.phone %></td>
      <td class="icon"><%= link_to image_tag('Edit.png'), edit_client_path(client) %></td>
      <td class="icon"><%= link_to image_tag('Delete.png'), client_path(client), method: :delete %></td>
      <td class="icon"><%= link_to image_tag('AddTask.png'), new_task_path(client) %></td>
    </tr>
  <% end %>
  
  </table>

<% end %>